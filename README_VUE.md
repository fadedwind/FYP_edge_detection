# è½¦è¾†è¯†åˆ«ç³»ç»Ÿ - Vue å‰ç«¯æ”¹é€ 

å·²å°† `pro1.py` çš„ Tkinter æ¡Œé¢åº”ç”¨æ”¹é€ ä¸º **Vue å‰ç«¯ + Flask åç«¯** çš„ Web åº”ç”¨ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ vehicle_detection_api.py    # Flask åç«¯ API
â”œâ”€â”€ vue-frontend/                # Vue å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.js
â”‚   â”‚   â””â”€â”€ App.vue
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â””â”€â”€ README_VUE.md               # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…åç«¯ä¾èµ–

```bash
pip install flask flask-cors opencv-python numpy pillow
```

### 2. å¯åŠ¨åç«¯ API

```bash
python vehicle_detection_api.py
```

åç«¯å°†åœ¨ `http://localhost:5000` è¿è¡Œã€‚

### 3. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd vue-frontend
npm install
```

### 4. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` è¿è¡Œã€‚

## ğŸ¯ åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Tkinter ç‰ˆæœ¬ (pro1.py) | Vue ç‰ˆæœ¬ |
|------|----------------------|---------|
| å›¾ç‰‡é€‰æ‹© | æ–‡ä»¶å¯¹è¯æ¡† | æ‹–æ‹½/ç‚¹å‡»ä¸Šä¼  |
| ç®—æ³•é€‰æ‹© | ä¸‹æ‹‰æ¡† | ä¸‹æ‹‰é€‰æ‹© |
| çŸ©å½¢åº¦è°ƒèŠ‚ | æ»‘å— | æ»‘å—ï¼ˆå®æ—¶æ˜¾ç¤ºæ•°å€¼ï¼‰|
| ç»“æœæ˜¾ç¤º | æ ‡ç­¾+ç‰¹å¾æ–‡æœ¬ | å¡ç‰‡å¼å±•ç¤º |
| å›¾ç‰‡å±•ç¤º | Canvas | `<img>` æ ‡ç­¾ |
| è·¨å¹³å° | éœ€è¦ GUI åº“ | æµè§ˆå™¨å³å¯ |

## ğŸ”§ API æ¥å£è¯´æ˜

### POST /api/detect

**è¯·æ±‚ä½“ï¼š**
```json
{
  "image": "data:image/png;base64,...",
  "algorithm": "å½©è‰²Cannyè¾¹ç¼˜æ£€æµ‹",
  "min_rectangularity": 0.2
}
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "result": "è¯†åˆ«ä¸ºï¼šè½¦è¾†",
  "is_vehicle": true,
  "features": {
    "area": 12345,
    "aspect_ratio": 2.5,
    "rectangularity": 0.65,
    "main_color": [120, 80, 60],
    "vehicle_rect": [100, 50, 200, 80]
  },
  "images": {
    "marked": "data:image/png;base64,...",
    "edge": "data:image/png;base64,..."
  }
}
```

## ğŸ“ ä¸»è¦æ”¹åŠ¨

1. **åç«¯ API åŒ–**ï¼šå°† Tkinter UI é€»è¾‘åˆ†ç¦»ï¼Œä¿ç•™æ ¸å¿ƒç®—æ³•ä¸º API
2. **å›¾ç‰‡ä¼ è¾“**ï¼šä½¿ç”¨ base64 ç¼–ç åœ¨å‰åç«¯ä¼ é€’å›¾ç‰‡
3. **å“åº”å¼è®¾è®¡**ï¼šVue ç»„ä»¶åŒ–ï¼Œæ”¯æŒç§»åŠ¨ç«¯
4. **ç°ä»£åŒ– UI**ï¼šä½¿ç”¨ CSS Grid/Flexboxï¼Œæ¸å˜èƒŒæ™¯ï¼Œå¡ç‰‡å¼å¸ƒå±€

## ğŸ¨ UI ç‰¹æ€§

- æ¸å˜èƒŒæ™¯å’Œåœ†è§’è®¾è®¡
- å“åº”å¼å¸ƒå±€ï¼ˆæ”¯æŒç§»åŠ¨ç«¯ï¼‰
- å®æ—¶ç‰¹å¾å€¼æ˜¾ç¤º
- æˆåŠŸ/å¤±è´¥çŠ¶æ€çš„é¢œè‰²åŒºåˆ†
- ä½¿ç”¨æç¤ºå’Œå¸®åŠ©ä¿¡æ¯

## ğŸ”„ åç»­ä¼˜åŒ–å»ºè®®

1. **å›¾ç‰‡å‹ç¼©**ï¼šä¸Šä¼ å‰å‹ç¼©å¤§å›¾ï¼Œå‡å°‘ä¼ è¾“æ—¶é—´
2. **è¿›åº¦æ¡**ï¼šæ˜¾ç¤ºå¤„ç†è¿›åº¦
3. **å†å²è®°å½•**ï¼šä¿å­˜è¯†åˆ«å†å²
4. **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå¤šå¼ å›¾ç‰‡åŒæ—¶è¯†åˆ«
5. **ç»“æœå¯¼å‡º**ï¼šå¯¼å‡ºè¯†åˆ«ç»“æœå’Œç‰¹å¾æ•°æ®

## ğŸ“¦ éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
- å‰ç«¯ï¼š`npm run dev` (Vite dev server)
- åç«¯ï¼š`python vehicle_detection_api.py` (Flask debug mode)

### ç”Ÿäº§ç¯å¢ƒ
- å‰ç«¯ï¼š`npm run build` â†’ éƒ¨ç½² `dist/` åˆ° Nginx
- åç«¯ï¼šä½¿ç”¨ Gunicorn æˆ– uWSGI éƒ¨ç½² Flask

## ğŸ› æ•…éšœæ’æŸ¥

1. **CORS é”™è¯¯**ï¼šç¡®ä¿åç«¯å·²å¯ç”¨ `CORS(app)`
2. **å›¾ç‰‡åŠ è½½å¤±è´¥**ï¼šæ£€æŸ¥ base64 ç¼–ç æ ¼å¼
3. **API è¿æ¥å¤±è´¥**ï¼šç¡®è®¤åç«¯åœ¨ 5000 ç«¯å£è¿è¡Œ
4. **ç®—æ³•åˆ—è¡¨ä¸ºç©º**ï¼šæ£€æŸ¥ `/api/algorithms` æ¥å£æ˜¯å¦æ­£å¸¸

## ğŸ“„ è®¸å¯è¯

ä¸åŸé¡¹ç›®ä¿æŒä¸€è‡´ã€‚

